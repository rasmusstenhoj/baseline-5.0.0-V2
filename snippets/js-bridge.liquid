<script>
  window.THEMENAME = 'Baseline';
  window.THEMEVERSION = '3.0.0';

  document.documentElement.className = document.documentElement.className.replace('no-js', 'js');

  function debounce(fn, wait) {
    let t;
    return (...args) => {
      clearTimeout(t);
      t = setTimeout(() => fn.apply(this, args), wait);
    };
  }

  function leadingThrottle(callback, limit) {
    var waiting = false;

    return function () {
      if (!waiting) {
        callback.apply(this, arguments);
        waiting = true;
        setTimeout(function () {
          waiting = false;
        }, limit);
      }
    };
  }

  function trailingThrottle(callback, limit) {
    var waiting = false;
    var pendingArgs = null;
    var context = null;

    return function () {
      pendingArgs = arguments;
      context = this;

      if (!waiting) {
        waiting = true;
        setTimeout(function () {
          callback.apply(context, pendingArgs);
          waiting = false;
          pendingArgs = null;
          context = null;
        }, limit);
      }
    };
  }

  function throttle(callback, limit, trailing) {
    return trailing ? trailingThrottle(callback, limit) : leadingThrottle(callback, limit);
  }

  window.theme = {
    strings: {
      loading: {{ 'general.search.loading' | t | json }},
      itemCountOne: {{ 'cart.popup.cart_count.one' | t | json }},
      itemCountOther: {{ 'cart.popup.cart_count.other' | t | json }},
      addToCart: {{ 'products.product.add_to_cart' | t | json }},
      soldOut: {{ 'products.product.sold_out' | t | json }},
      unavailable: {{ 'products.product.unavailable' | t | json }},
      regularPrice: {{ 'products.product.regular_price' | t | json }},
      salePrice: {{ 'products.product.sale_price' | t | json }},
      sale: {{ 'products.product.on_sale' | t | json }},
      unitPrice: {{ 'products.product.unit_price_label' | t | json }},
      unitPriceSeparator: {{ 'general.accessibility.unit_price_separator' | t | json }},
      cartEmpty: {{ 'cart.general.empty' | t | json }},
      cartCookies: {{ 'cart.general.cookies_required' | t | json }},
      update: {{ 'cart.general.update' | t | json }},
      quantity: {{ 'cart.label.quantity' | t | json }},
      discountedTotal: {{ 'cart.label.discounted_total' | t | json }},
      regularTotal: {{ 'cart.label.regular_total' | t | json }},
      priceColumn: {{ 'cart.label.price_column' | t | json }},
      addedToCart: {{ 'products.product.added_to_cart' | t | append: '!' | json }},
      cartError: {{ 'cart.general.cart_error' | t | json }},
      cartAddError: {{ 'cart.general.cart_add_error' | t | json }},
      shippingCalculatorResultsTitleOne: {{ 'cart.shipping_calculator.results_title_one' | t | json }},
      shippingCalculatorResultsTitleMany: {{ 'cart.shipping_calculator.results_title_many' | t | json }},
      dateTimeParts: {
         years: {
           one: '{{ 'general.date_time_parts.years' | t: count: 1 }}',
           other: '{{ 'general.date_time_parts.years' | t: count: 2 }}'
         },
         months: {
           one: '{{ 'general.date_time_parts.months' | t: count: 1 }}',
           other: '{{ 'general.date_time_parts.months' | t: count: 2 }}'
         },
         days: {
           one: '{{ 'general.date_time_parts.days' | t: count: 1 }}',
           other: '{{ 'general.date_time_parts.days' | t: count: 2 }}'
         },
         hours: {
           one: '{{ 'general.date_time_parts.hours' | t: count: 1 }}',
           other: '{{ 'general.date_time_parts.hours' | t: count: 2 }}'
         },
         minutes: {
           one: '{{ 'general.date_time_parts.minutes' | t: count: 1 }}',
           other: '{{ 'general.date_time_parts.minutes' | t: count: 2 }}'
         },
         seconds: {
           one: '{{ 'general.date_time_parts.seconds' | t: count: 1 }}',
           other: '{{ 'general.date_time_parts.seconds' | t: count: 2 }}'
         }
       },
       countdownTimerComplete: {{ 'sections.countdown_timer.timer_complete' | t | json }},
       countdownTimerSRText: {{ 'sections.countdown_timer.sr_text' | t | json }},
       discountTagTemplate: {{ 'products.product.discount_tag' | t | json }}
    },
    routes: {
      root_url: {{ routes.root_url | json }},
      predictive_search_url: {{ routes.predictive_search_url | json }},
      cart_url: {{ routes.cart_url | json }},
      cart_add_url: {{ routes.cart_add_url | json }},
      cart_change_url: {{ routes.cart_change_url | json }},
      cart_update_url: {{ routes.cart_update_url | json }},
      cart_clear_url: {{ routes.cart_clear_url | json }},
    },
    moneyFormat: {{ shop.money_format | json }},
    moneyWithCurrencyFormat: {{ shop.money_with_currency_format | json }},
    get defaultMoneyFormat() {
      return {% if settings.currency_code_enabled == true %}this.moneyWithCurrencyFormat{% else %}this.moneyFormat{% endif %};
    },
    cartItemCount: {{ cart.item_count | json }},
    settings: {
      cartType: {{ settings.cart_type | json }},
      openDrawerOnAddToCart: {{ settings.open_drawer_on_add_to_cart | json }}
    },
    locale: {
      isoCode: '{{ localization.language.iso_code }}-{{ localization.country.iso_code }}',
      timeZone: '{{ 'now' | date: '%z' }}'
    },
    info: {
      name: 'Baseline',
    }
  };
</script>
